<f:layout name="Default" />

<f:section name="Title">Show document {document.name}</f:section>
<f:section name="Content">
<f:form action="index" name="document" arguments="{document: document}">
   <f:form.hidden name="__method" value="DELETE" />
   <f:form.submit value="Delete" class="btn btn-danger " />
</f:form>
   <h3>Categories</h3>
   <f:if condition="{document.categories}">
      <f:then>
         <table class="table table-striped">
            <f:for each="{document.categories}" as="category">
               <tr>
                  <td>
                     <f:link.action action="index" controller="Category" arguments="{category: category}">{category.path}</f:link.action>
                  </td>
                  <td>
                     <f:form action="index" controller="Category" arguments="{category: category}">
                        <f:form.hidden name="__method" value="DELETE" />
                        <f:form.submit value="Delete" class="btn btn-danger btn-xs" />
                     </f:form>
                  </td>
                  <td>
                     <f:form action="index" controller="Category" arguments="{category: category}">
                        <f:form.hidden name="__method" value="DELETE" />
                        <f:form.submit value="Remove TODO" class="btn btn-danger btn-xs" />
                     </f:form>
                  </td>
               </tr>
            </f:for>
         </table>
      </f:then>
      <f:else>
         <div class="alert alert-info" role="alert">no categories</div>
      </f:else>
   </f:if>

	<h3>edit document</h3>
	<f:form action="index" object="{document}" objectName="document">
		<input type="hidden" name="__method" value="PUT" />
		
			<div class="form-group">
				<label class="control-label" for="name">Name</label>
					
							<f:form.textfield property="name" class="form-control" id="name" />
						
			</div>
		
			<div class="form-group">
				<f:form.submit class="btn btn-default" value="Update" />
			</div>
	</f:form>

	<h3>add to category</h3>
	<f:form action="index" objectName="documentCollection" controller="DocumentCollection">
		<input type="hidden" name="__method" value="POST" />
			<f:form.select multiple="true" class="form-control" property="documents" options="{0: document}" selectAllByDefault="true" />
			<div class="form-group">
				<label class="control-label" for="category">Category</label>
					
							<f:form.textfield property="category.path" class="form-control" id="category" />
						
			</div>
		
			<div class="form-group">
				<f:form.submit value="Create" class="btn btn-default"/>
			</div>
	</f:form>



</f:section>
