<div class="row top5">
	<div class="col-md-12">
		<ul class="nav nav-pills">
			<li
					data-ng-repeat="facet in image.facets"
					data-ng-class="{'active' : facet.isVisible}">
				<a href="javascript:void(0)" data-ng-click="image.toggleFilter(facet.name)">
					{{facet.name.substr(0, 13)}}
				</a>
			</li>
		</ul>
	</div>
</div>

<div class="row top5">

	<div data-ng-repeat="facet in image.facets">
		<div class="col-md-3" data-ng-if="facet.isVisible">
			<span class="label label-default">{{facet.name}}</span>
			<button class="btn btn-default btn-xs" data-ng-click="image.toggleFilter(facet.name)">
				<span class="glyphicon glyphicon-minus" aria-hidden="true"></span>
			</button>



			<ul>
				<li ng-repeat="field in facet.fields| orderBy: facet.orderBy : 'count' === facet.orderBy ">
									<nav-path ng-attr-path="{{field.index}}" ng-attr-facet="{{facet.index}}"></nav-path>
									({{field.count}})
				</li>
			</ul>
		</div>
	</div>
</div>

<div data-ng-controller="DocumentController as document">
	<div data-ng-controller="ApiController as api">
		<div data-ng-controller="ClipboardController as clipboard">
			<div data-ng-controller="FilterController as filterCtrl">

				<div data-ng-controller="WidgetController as widget">


					<overlay finished="api.finished"></overlay>
					<div data-ng-if="!api.finished" class="spinner">
						<spinner></spinner>
					</div>

						<div class="row">
							<ng-include src="widget.getTemplate('Search')"></ng-include>
							<ng-include src="widget.getTemplate('Widget')"></ng-include>
							<div class="col-md-1 col-md-offset-1">
								<div class="radio">
									<label>
										<input type="radio" data-ng-model="image.mode" value="view">View Mode
									</label>
								</div>
							</div>
							<div class="col-md-1">
								<div class="radio">
									<label>
										<input id="select-mode" type="radio" data-ng-model="image.mode" value="select">Select
									</label>
								</div>
							</div>
						</div>

						<div class="row">
							<div class="col-md-12">
								<ng-include src="widget.getTemplate('CurrentFilter')"></ng-include>
							</div>
						</div>
						<div class="row top10" data-ng-if="filterCtrl.renameCategory">
							<ng-include src="widget.getTemplate('RenameCategory')"></ng-include>
						</div>

						<div class="row top2" data-ng-if="widget.widgets.filter">
							<div class="col-md-12">
								<ng-include src="widget.getTemplate('Filter')"></ng-include>
							</div>
						</div>


						<ng-include src="widget.getTemplate('SolrIntegrity')"></ng-include>
						<ng-include src="widget.getTemplate('Integrity')"></ng-include>
						<ng-include src="widget.getTemplate('Clipboard')"></ng-include>
					<div class="image-bottom">
						<ng-include src="widget.getTemplate('Result')"></ng-include>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
