<div data-ng-controller="DocumentController as document">

	<div class="row">
		<div class="col-md-3">
				<button class="btn btn-default" ng-click="mp3Ipad.addFacet('artist')" data-ng-if="mp3Ipad.facets.artist.selected === false">
					Artist
				</button>
				<button class="btn btn-default" ng-click="mp3Ipad.addFacet('album')">
					Album
				</button>
				<button class="btn btn-default" ng-click="mp3Ipad.addFacet('genre')" data-ng-if="mp3Ipad.facets.genre.selected === false">
					Genre
				</button>
		</div>

		<div class="col-md-7">
			<span ng-repeat="(key, values) in document.filterQueries">
			<button role="button" class="btn btn-default btn-danger" ng-click="document.rmFilterQuery(key, value)" ng-repeat="value in values">
				<span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
				{{key}}
				<filter-query ng-attr-path="{{value}}" ng-attr-facet="{{key}}"></filter-query>
			</button>
			</span>
		</div>
	</div>


	<div class="row">
		<div class="col-md-3">

			<div data-ng-if="mp3Ipad.facets.artist.enabled">
				<div data-ng-if="mp3Ipad.facets.artist.selected === false">
					<h4>Artist</h4>

					<select chosen options="mp3Ipad.facets.artist.data"
							data-ng-change="mp3Ipad.addFilterQuery('artist')"
							data-ng-model="mp3Ipad.facets.artist.value"
							data-ng-options="data.value as data.label  for data in mp3Ipad.facets.artist.data">

					</select>

				</div>
				<div data-ng-if="mp3Ipad.facets.artist.selected">
					<h4>Album</h4>
					<ul>
						<li ng-repeat="(key, value) in mp3Ipad.facets.album.data"
							ng-click="document.addFilterQuery('album', key)">
							<nav-path ng-attr-path="{{key}}" ng-attr-facet="album"></nav-path>
							({{value}})
						</li>
					</ul>
				</div>
			</div>

			<div data-ng-if="mp3Ipad.facets.album.enabled">
				<h4>Album</h4>
				<ul>
					<li ng-repeat="(key, value) in mp3Ipad.facets.album.data"
						ng-click="document.addFilterQuery('album', key)">
						<nav-path ng-attr-path="{{key}}" ng-attr-facet="album"></nav-path>
						({{value}})
					</li>
				</ul>
			</div>

			<div data-ng-if="mp3Ipad.facets.genre.enabled">

				<div data-ng-if="mp3Ipad.facets.genre.selected === false">
					<h4>Genre</h4>
					<ul>
						<li ng-repeat="(key, value) in mp3Ipad.facets.genre.data"
							ng-click="document.addFilterQuery('genre', key)">
							<nav-path ng-attr-path="{{key}}" ng-attr-facet="genre"></nav-path>
							({{value}})
						</li>
					</ul>
				</div>
				<div data-ng-if="mp3Ipad.facets.genre.selected === true">
					<div data-ng-if="mp3Ipad.facets.artist.selected === false">
						<h4>Artist</h4>
						<ul>
							<li ng-repeat="(key, value) in mp3Ipad.facets.artist.data"
								ng-click="document.addFilterQuery('artist', key)">
								<nav-path ng-attr-path="{{key}}" ng-attr-facet="artist"></nav-path>
								({{value}})
							</li>
						</ul>
					</div>
					<div data-ng-if="mp3Ipad.facets.artist.selected">
						<h4>Album</h4>
						<ul>
							<li ng-repeat="(key, value) in mp3Ipad.facets.album.data"
								ng-click="document.addFilterQuery('album', key)">
								<nav-path ng-attr-path="{{key}}" ng-attr-facet="album"></nav-path>
								({{value}})
							</li>
						</ul>
					</div>
				</div>

			</div>

		</div>

		<div data-ng-if="true">


			<div data-ng-controller="Mp3Controller as mp3">
				<div class="col-md-4">
					<div class="row ">
						<div class="col-md-10">
							<ng-include src="mp3.getTemplate('ResultHead')"></ng-include>
						</div>
						<div class="col-md-2">
							<ng-include src="mp3.getTemplate('Sort')"></ng-include>
						</div>
					</div>
					<div class="row top10">
						<div class="col-md-12">
							<ng-include src="mp3.getTemplate('ResultTable')"></ng-include>
						</div>
					</div>

				</div>

				<div class="col-md-5">
					<!-- init soundManager2 player -->
					<sound-manager></sound-manager>
					<div class="row top2">
						<div class="col-md-12">
							<ng-include src="mp3.getTemplate('PlayerControls')"></ng-include>
							<button class="btn btn-danger" ng-click="mp3.setPlayListForm(true)">
								<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
							</button>
						</div>
					</div>

					<div class="row top10">
						<div class="col-md-6 text-center" data-ng-if="currentPlaying && playlist.length">
							<ng-include src="mp3.getTemplate('CurrentPlaying')"></ng-include>
							<p>
								<button class="btn btn-default btn-xs" ng-click="mp3.showInfoDoc(currentPlaying.doc)">
									<span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span>
								</button>
							</p>
							<img data-ng-if="currentPlaying.doc.webThumbPath" ng-src="{{currentPlaying.doc.webThumbPath}}" alt="{{currentPlaying.doc.title}}" width="300" height="300" />
						</div>

						<div class="col-md-6">
							<div data-ng-if="playlist.length && mp3.playListForm">
								<ng-include src="mp3.getTemplate('PlayListActions')"></ng-include>
							</div>
							<ng-include src="mp3.getTemplate('PlaylistTable')"></ng-include>
						</div>

					</div>
				</div>
			</div>


		</div>
	</div>

</div>